{"id":"551d82b0-b1fb-483a-a5ea-564bdb813625","revision":0,"last_node_id":47,"last_link_id":108,"nodes":[{"id":45,"type":"MarkdownNote","pos":[-669.6665090509065,-118.66657776244102],"size":[420,743.7890625],"flags":{},"order":0,"mode":0,"inputs":[],"outputs":[],"title":"For Local User","properties":{"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["[Tutorial](https://docs.comfy.org/tutorials/flux/flux-1-fill-dev)\n\nGuide: [Subgraph](https://docs.comfy.org/interface/features/subgraph)\n\n## Report issue\n\nNote: please update ComfyUI first ([guide](https://docs.comfy.org/zh-CN/installation/update_comfyui)) and prepare required models. Desktop/Cloud ship stable builds; nightly-supported models may not be included yet, please wait for the next stable release.\n\n- Cannot run / runtime errors: [ComfyUI/issues](https://github.com/comfyanonymous/ComfyUI/issues)\n- UI / frontend issues: [ComfyUI_frontend/issues](https://github.com/Comfy-Org/ComfyUI_frontend/issues)\n- Workflow issues: [workflow_templates/issues](https://github.com/Comfy-Org/workflow_templates/issues)\n\n\n## Model links\n\n**text_encoders**\n\n- [clip_l.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors)\n- [t5xxl_fp16.safetensors](https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors)\n\n**diffusion_models**\n\n- [flux1-fill-dev.safetensors](https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/split_files/diffusion_models/flux1-fill-dev.safetensors)\n\n**vae**\n\n- [ae.safetensors](https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors)\n\n\nModel Storage Location\n\n```\nðŸ“‚ ComfyUI/\nâ”œâ”€â”€ ðŸ“‚ models/\nâ”‚   â”œâ”€â”€ ðŸ“‚ text_encoders/\nâ”‚   â”‚      â”œâ”€â”€ clip_l.safetensors\nâ”‚   â”‚      â””â”€â”€ t5xxl_fp16.safetensors\nâ”‚   â”œâ”€â”€ ðŸ“‚ diffusion_models/\nâ”‚   â”‚      â””â”€â”€ flux1-fill-dev.safetensors\nâ”‚   â””â”€â”€ ðŸ“‚ vae/\nâ”‚          â””â”€â”€ ae.safetensors\n```\n\n"],"color":"#432","bgcolor":"#000"},{"id":17,"type":"LoadImage","pos":[-210,-120],"size":[315,421.6666666666667],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"image","name":"image","type":"COMBO","widget":{"name":"image"},"link":null},{"localized_name":"choose file to upload","name":"upload","type":"IMAGEUPLOAD","widget":{"name":"upload"},"link":null}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[103]},{"localized_name":"MASK","name":"MASK","type":"MASK","slot_index":1,"links":[104]}],"properties":{"Node name for S&R":"LoadImage","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["flux_fill_inpaint_example_input_image.png","image"]},{"id":47,"type":"42bcb419-1e9f-48eb-a6d6-c22e0625db3a","pos":[130,-120],"size":[400,470],"flags":{},"order":2,"mode":0,"inputs":[{"label":"image","localized_name":"pixels","name":"pixels","type":"IMAGE","link":103},{"localized_name":"mask","name":"mask","type":"MASK","link":104}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","links":[105]}],"properties":{"proxyWidgets":[["23","text"],["3","seed"],["3","control_after_generate"]],"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":9,"type":"SaveImage","pos":[594.800048828125,-120.80001831054688],"size":[580,490],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"images","name":"images","type":"IMAGE","link":105},{"localized_name":"filename_prefix","name":"filename_prefix","type":"STRING","widget":{"name":"filename_prefix"},"link":null}],"outputs":[],"properties":{"Node name for S&R":"SaveImage","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["ComfyUI"]}],"links":[[103,17,0,47,0,"IMAGE"],[104,17,1,47,1,"MASK"],[105,47,0,9,0,"IMAGE"]],"groups":[],"definitions":{"subgraphs":[{"id":"42bcb419-1e9f-48eb-a6d6-c22e0625db3a","version":1,"state":{"lastGroupId":3,"lastNodeId":46,"lastLinkId":103,"lastRerouteId":0},"revision":0,"config":{},"name":"Flux.1 Fill Dev Image Inpainting","inputNode":{"id":-10,"bounding":[-850,164,120,80]},"outputNode":{"id":-20,"bounding":[930,174,120,60]},"inputs":[{"id":"65727ee9-09d0-40c9-bd86-11e0823eb676","name":"pixels","type":"IMAGE","linkIds":[99],"localized_name":"pixels","label":"image","pos":[-750,184]},{"id":"28424f77-56c5-49c1-ba41-6bd78287c186","name":"mask","type":"MASK","linkIds":[100],"localized_name":"mask","pos":[-750,204]}],"outputs":[{"id":"1dee24ec-54a8-41be-aa30-a8fb797d3d23","name":"IMAGE","type":"IMAGE","linkIds":[95],"localized_name":"IMAGE","pos":[950,194]}],"widgets":[],"nodes":[{"id":34,"type":"DualCLIPLoader","pos":[-450,50],"size":[315,130],"flags":{},"order":0,"mode":0,"inputs":[{"localized_name":"clip_name1","name":"clip_name1","type":"COMBO","widget":{"name":"clip_name1"},"link":null},{"localized_name":"clip_name2","name":"clip_name2","type":"COMBO","widget":{"name":"clip_name2"},"link":null},{"localized_name":"type","name":"type","type":"COMBO","widget":{"name":"type"},"link":null},{"localized_name":"device","name":"device","shape":7,"type":"COMBO","widget":{"name":"device"},"link":null}],"outputs":[{"localized_name":"CLIP","name":"CLIP","type":"CLIP","links":[62]}],"properties":{"Node name for S&R":"DualCLIPLoader","cnr_id":"comfy-core","ver":"0.3.64","models":[{"name":"clip_l.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/clip_l.safetensors","directory":"text_encoders"},{"name":"t5xxl_fp16.safetensors","url":"https://huggingface.co/comfyanonymous/flux_text_encoders/resolve/main/t5xxl_fp16.safetensors","directory":"text_encoders"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["clip_l.safetensors","t5xxl_fp16.safetensors","flux","default"]},{"id":26,"type":"FluxGuidance","pos":[-90,230],"size":[317.3999938964844,58],"flags":{},"order":5,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":41},{"localized_name":"guidance","name":"guidance","type":"FLOAT","widget":{"name":"guidance"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[80]}],"properties":{"Node name for S&R":"FluxGuidance","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[30]},{"id":32,"type":"VAELoader","pos":[-450,220],"size":[315,58],"flags":{},"order":1,"mode":0,"inputs":[{"localized_name":"vae_name","name":"vae_name","type":"COMBO","widget":{"name":"vae_name"},"link":null}],"outputs":[{"localized_name":"VAE","name":"VAE","type":"VAE","slot_index":0,"links":[60,82]}],"properties":{"Node name for S&R":"VAELoader","cnr_id":"comfy-core","ver":"0.3.64","models":[{"name":"ae.safetensors","url":"https://huggingface.co/Comfy-Org/Lumina_Image_2.0_Repackaged/resolve/main/split_files/vae/ae.safetensors","directory":"vae"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["ae.safetensors"]},{"id":46,"type":"ConditioningZeroOut","pos":[-90,330],"size":[204.134765625,26],"flags":{},"order":6,"mode":0,"inputs":[{"localized_name":"conditioning","name":"conditioning","type":"CONDITIONING","link":101}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","links":[102]}],"properties":{"Node name for S&R":"ConditioningZeroOut","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":23,"type":"CLIPTextEncode","pos":[-90,30],"size":[422.8500061035156,164.30999755859375],"flags":{},"order":3,"mode":0,"inputs":[{"localized_name":"clip","name":"clip","type":"CLIP","link":62},{"localized_name":"text","name":"text","type":"STRING","widget":{"name":"text"},"link":null}],"outputs":[{"localized_name":"CONDITIONING","name":"CONDITIONING","type":"CONDITIONING","slot_index":0,"links":[41,101]}],"title":"CLIP Text Encode (Positive Prompt)","properties":{"Node name for S&R":"CLIPTextEncode","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["anime girl with massive fennec ears blonde hair blue eyes wearing a pink shirt"],"color":"#232","bgcolor":"#353"},{"id":39,"type":"DifferentialDiffusion","pos":[-100,-120],"size":[277.20001220703125,58],"flags":{},"order":4,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":85},{"localized_name":"strength","name":"strength","shape":7,"type":"FLOAT","widget":{"name":"strength"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[86]}],"properties":{"Node name for S&R":"DifferentialDiffusion","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[1]},{"id":8,"type":"VAEDecode","pos":[380,430],"size":[210,46],"flags":{},"order":8,"mode":0,"inputs":[{"localized_name":"samples","name":"samples","type":"LATENT","link":7},{"localized_name":"vae","name":"vae","type":"VAE","link":60}],"outputs":[{"localized_name":"IMAGE","name":"IMAGE","type":"IMAGE","slot_index":0,"links":[95]}],"properties":{"Node name for S&R":"VAEDecode","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[]},{"id":38,"type":"InpaintModelConditioning","pos":[-90,420],"size":[302.3999938964844,138],"flags":{},"order":9,"mode":0,"inputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":80},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":102},{"localized_name":"vae","name":"vae","type":"VAE","link":82},{"localized_name":"pixels","name":"pixels","type":"IMAGE","link":99},{"localized_name":"mask","name":"mask","type":"MASK","link":100},{"localized_name":"noise_mask","name":"noise_mask","type":"BOOLEAN","widget":{"name":"noise_mask"},"link":null}],"outputs":[{"localized_name":"positive","name":"positive","type":"CONDITIONING","slot_index":0,"links":[77]},{"localized_name":"negative","name":"negative","type":"CONDITIONING","slot_index":1,"links":[78]},{"localized_name":"latent","name":"latent","type":"LATENT","slot_index":2,"links":[88]}],"properties":{"Node name for S&R":"InpaintModelConditioning","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[true]},{"id":3,"type":"KSampler","pos":[370,-120],"size":[290,470],"flags":{},"order":7,"mode":0,"inputs":[{"localized_name":"model","name":"model","type":"MODEL","link":86},{"localized_name":"positive","name":"positive","type":"CONDITIONING","link":77},{"localized_name":"negative","name":"negative","type":"CONDITIONING","link":78},{"localized_name":"latent_image","name":"latent_image","type":"LATENT","link":88},{"localized_name":"seed","name":"seed","type":"INT","widget":{"name":"seed"},"link":null},{"localized_name":"steps","name":"steps","type":"INT","widget":{"name":"steps"},"link":null},{"localized_name":"cfg","name":"cfg","type":"FLOAT","widget":{"name":"cfg"},"link":null},{"localized_name":"sampler_name","name":"sampler_name","type":"COMBO","widget":{"name":"sampler_name"},"link":null},{"localized_name":"scheduler","name":"scheduler","type":"COMBO","widget":{"name":"scheduler"},"link":null},{"localized_name":"denoise","name":"denoise","type":"FLOAT","widget":{"name":"denoise"},"link":null}],"outputs":[{"localized_name":"LATENT","name":"LATENT","type":"LATENT","slot_index":0,"links":[7]}],"properties":{"Node name for S&R":"KSampler","cnr_id":"comfy-core","ver":"0.3.64","ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":[656821733471329,"randomize",20,1,"euler","normal",1]},{"id":31,"type":"UNETLoader","pos":[-450,-80],"size":[315,82],"flags":{},"order":2,"mode":0,"inputs":[{"localized_name":"unet_name","name":"unet_name","type":"COMBO","widget":{"name":"unet_name"},"link":null},{"localized_name":"weight_dtype","name":"weight_dtype","type":"COMBO","widget":{"name":"weight_dtype"},"link":null}],"outputs":[{"localized_name":"MODEL","name":"MODEL","type":"MODEL","slot_index":0,"links":[85]}],"properties":{"Node name for S&R":"UNETLoader","cnr_id":"comfy-core","ver":"0.3.64","models":[{"name":"flux1-fill-dev.safetensors","url":"https://huggingface.co/Comfy-Org/flux1-dev/resolve/main/split_files/diffusion_models/flux1-fill-dev.safetensors","directory":"diffusion_models"}],"ue_properties":{"widget_ue_connectable":{},"version":"7.5.2","input_ue_unconnectable":{}}},"widgets_values":["flux1-fill-dev.safetensors","default"]}],"groups":[{"id":1,"title":"Load models","bounding":[-460,-150,335,441.6000061035156],"color":"#3f789e","font_size":24,"flags":{}},{"id":3,"title":"Prompt","bounding":[-100,-40,442.8499755859375,409.6000061035156],"color":"#3f789e","font_size":24,"flags":{}}],"links":[{"id":41,"origin_id":23,"origin_slot":0,"target_id":26,"target_slot":0,"type":"CONDITIONING"},{"id":101,"origin_id":23,"origin_slot":0,"target_id":46,"target_slot":0,"type":"CONDITIONING"},{"id":62,"origin_id":34,"origin_slot":0,"target_id":23,"target_slot":0,"type":"CLIP"},{"id":85,"origin_id":31,"origin_slot":0,"target_id":39,"target_slot":0,"type":"MODEL"},{"id":86,"origin_id":39,"origin_slot":0,"target_id":3,"target_slot":0,"type":"MODEL"},{"id":77,"origin_id":38,"origin_slot":0,"target_id":3,"target_slot":1,"type":"CONDITIONING"},{"id":78,"origin_id":38,"origin_slot":1,"target_id":3,"target_slot":2,"type":"CONDITIONING"},{"id":88,"origin_id":38,"origin_slot":2,"target_id":3,"target_slot":3,"type":"LATENT"},{"id":7,"origin_id":3,"origin_slot":0,"target_id":8,"target_slot":0,"type":"LATENT"},{"id":60,"origin_id":32,"origin_slot":0,"target_id":8,"target_slot":1,"type":"VAE"},{"id":80,"origin_id":26,"origin_slot":0,"target_id":38,"target_slot":0,"type":"CONDITIONING"},{"id":102,"origin_id":46,"origin_slot":0,"target_id":38,"target_slot":1,"type":"CONDITIONING"},{"id":82,"origin_id":32,"origin_slot":0,"target_id":38,"target_slot":2,"type":"VAE"},{"id":99,"origin_id":-10,"origin_slot":0,"target_id":38,"target_slot":3,"type":"IMAGE"},{"id":100,"origin_id":-10,"origin_slot":1,"target_id":38,"target_slot":4,"type":"MASK"},{"id":95,"origin_id":8,"origin_slot":0,"target_id":-20,"target_slot":0,"type":"IMAGE"}],"extra":{"workflowRendererVersion":"LG","ue_links":[]}}]},"config":{},"extra":{"ds":{"scale":0.5636806464042814,"offset":[1237.920396413059,851.0203958342684]},"frontendVersion":"1.38.6","workflowRendererVersion":"LG","VHS_latentpreview":false,"VHS_latentpreviewrate":0,"VHS_MetadataImage":true,"VHS_KeepIntermediate":true,"ue_links":[]},"version":0.4}